@page "/virtualmachines"
@using PcpManagement.Core
@using PcpManagement.Core.Common
@using PcpManagement.Core.Models
@inherits GetAllVirtualMachinesPage

<MudDataGrid T="@Vm" Class="mt-4"
             Items="@VirtualMachines"
             Filterable="true"
             Hideable="true"
             Dense ColumnResizeMode="ResizeMode.Container" RowsPerPage="@Configuration.DefaultPageSize">
    <ToolBarContent>
        <MudText Typo="Typo.h6">Máquinas Virtuais</MudText>
        <MudSpacer />
        <MudTextField
            Placeholder="Search"
            Adornment="Adornment.Start"
            Immediate="true"
            AdornmentIcon="@Icons.Material.Filled.Search"
            IconSize="Size.Medium">
        </MudTextField>
        <MudSpacer />
        <MudButton
            Variant="Variant.Filled"
            Size="Size.Small"
            Color="Color.Tertiary"
            StartIcon="@Icons.Material.TwoTone.Add"
            Href="/virtualmachines/adicionar">
            NOVA MÁQUINA VIRTUAL
        </MudButton>
       
    </ToolBarContent>
    <Columns>
        <PropertyColumn Property="x => x.Id" Hidden="true" Class=".d-none"/>
        <PropertyColumn Property="x => x.Hostname"/>
        <PropertyColumn Property="x => x.Ip"/>
        <PropertyColumn Property="x => x.UserVm"/>
        <PropertyColumn Property="x => x.VCpu"/>
        <PropertyColumn Property="x => x.Memoria" Title="Memória"/>
        <PropertyColumn Property="x => x.Hd"/>
        <PropertyColumn Property="x => x.Ambiente"/>
        <PropertyColumn Property="x => x.Emprestimo"/>
        <PropertyColumn Property="x => x.Resolucao" Title="Resolução"/>
        <PropertyColumn Property="x => x.Enviroment"/>
        <PropertyColumn Property="x => x.SistemaOperacional" Title="Sistema Operacional"/>
        <PropertyColumn Property="x => x.Status"/>
        <PropertyColumn Property="x => x.Observacao" Title="Observação"/>
        <PropertyColumn Property="x => x.Funcionalidade"/>
        <PropertyColumn Property="x => x.Lote"/>
        <PropertyColumn Property="x => x.DataCenter"/>
        <PropertyColumn Property="x => x.Farm"/>
        <TemplateColumn CellClass="d-flex justify-end">
            <CellTemplate>
                <MudStack Row>
                    <MudIconButton
                        Icon="@Icons.Material.Filled.Delete"
                        Color="Color.Error"
                        OnClick="() => OnDeleteButtonClickedAsync(context.Item.Id, context.Item.Hostname)"/>
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
    <PagerContent>
        <MudDataGridPager T="@Vm" />
    </PagerContent>
</MudDataGrid>